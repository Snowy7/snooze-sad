@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-content-area: var(--content-area);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.75rem;
  --background: oklch(0.93 0 0);
  --foreground: oklch(0.18 0 0);
  --content-area: oklch(0.96 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.18 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.18 0 0);
  --primary: oklch(0.488 0.243 264.376);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.22 0 0);
  --muted: oklch(0.965 0 0);
  --muted-foreground: oklch(0.45 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.22 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.88 0 0);
  --input: oklch(0.94 0 0);
  --ring: oklch(0.488 0.243 264.376);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.96 0 0);
  --sidebar-foreground: oklch(0.20 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.92 0 0);
  --sidebar-accent-foreground: oklch(0.22 0 0);
  --sidebar-border: oklch(0.88 0 0);
  --sidebar-ring: oklch(0.488 0.243 264.376);
}

.dark {
  --background: oklch(0.11 0 0);
  --foreground: oklch(0.92 0 0);
  --content-area: oklch(0.14 0 0);
  --card: oklch(0.17 0 0);
  --card-foreground: oklch(0.92 0 0);
  --popover: oklch(0.17 0 0);
  --popover-foreground: oklch(0.92 0 0);
  --primary: oklch(0.588 0.243 264.376);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.20 0 0);
  --secondary-foreground: oklch(0.92 0 0);
  --muted: oklch(0.20 0 0);
  --muted-foreground: oklch(0.58 0 0);
  --accent: oklch(0.20 0 0);
  --accent-foreground: oklch(0.92 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(0.24 0 0);
  --input: oklch(0.22 0 0);
  --ring: oklch(0.588 0.243 264.376);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.11 0 0);
  --sidebar-foreground: oklch(0.85 0 0);
  --sidebar-primary: oklch(0.588 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.18 0 0);
  --sidebar-accent-foreground: oklch(0.92 0 0);
  --sidebar-border: oklch(0.24 0 0);
  --sidebar-ring: oklch(0.588 0.243 264.376);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  
  /* Better scaling for 2K+ screens */
  html {
    font-size: 16px;
  }
  
  @media (min-width: 2560px) {
    html {
      font-size: 18px;
    }
  }
  
  @media (min-width: 3840px) {
    html {
      font-size: 20px;
    }
  }
  
  body {
    @apply bg-background text-foreground;
  }
  
  /* Prose styles for rich text editor */
  .prose {
    @apply text-foreground;
  }
  .prose h1 {
    @apply text-3xl font-bold mt-6 mb-4;
  }
  .prose h2 {
    @apply text-2xl font-bold mt-5 mb-3;
  }
  .prose h3 {
    @apply text-xl font-bold mt-4 mb-2;
  }
  .prose p {
    @apply my-3;
  }
  .prose ul, .prose ol {
    @apply my-3 pl-6;
  }
  .prose ul {
    @apply list-disc;
  }
  .prose ol {
    @apply list-decimal;
  }
  .prose li {
    @apply my-1;
  }
  .prose blockquote {
    @apply border-l-4 pl-4 my-4 text-muted-foreground;
    border-color: color-mix(in oklch, var(--primary) 50%, transparent);
  }
  .prose code {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-primary;
  }
  .prose pre {
    @apply bg-muted p-4 rounded my-4 overflow-x-auto border border-border;
  }
  .prose pre code {
    @apply bg-transparent p-0 text-foreground;
  }
  .prose a {
    @apply text-primary underline;
    transition: opacity 0.2s;
  }
  .prose a:hover {
    opacity: 0.8;
  }
  .prose img {
    @apply rounded-lg my-4;
  }
  .prose hr {
    @apply my-8 border-t-2 border-border;
  }
  
  /* Table styles */
  .prose table {
    @apply w-full my-4 border-collapse;
  }
  .prose table th {
    @apply bg-muted border border-border p-2 text-left font-semibold;
  }
  .prose table td {
    @apply border border-border p-2;
  }
  .prose table tr:hover {
    background-color: color-mix(in oklch, var(--muted) 50%, transparent);
  }
  
  /* Task list styles */
  .prose ul[data-type="taskList"] {
    @apply list-none pl-0;
  }
  .prose ul[data-type="taskList"] li {
    @apply flex items-start gap-2;
  }
  .prose ul[data-type="taskList"] li > label {
    @apply flex items-center gap-2 cursor-pointer;
  }
  .prose ul[data-type="taskList"] li > label > input[type="checkbox"] {
    @apply cursor-pointer;
  }
  
  /* Label spacing */
  label {
    @apply mb-2 inline-block;
  }
}

/* Accent color system - Dynamic primary colors based on user preference */
[data-accent="slate"] { 
  --accent-50: 248 250 252; --accent-100: 241 245 249; --accent-500: 100 116 139; --accent-600: 71 85 105; --accent-700: 51 65 85;
  --primary: oklch(0.556 0.015 254.604);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.556 0.015 254.604);
}
[data-accent="gray"] { 
  --accent-50: 249 250 251; --accent-100: 243 244 246; --accent-500: 107 114 128; --accent-600: 75 85 99; --accent-700: 55 65 81;
  --primary: oklch(0.556 0.012 264.542);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.556 0.012 264.542);
}
[data-accent="zinc"] { 
  --accent-50: 250 250 250; --accent-100: 244 244 245; --accent-500: 113 113 122; --accent-600: 82 82 91; --accent-700: 63 63 70;
  --primary: oklch(0.556 0.016 264.531);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.556 0.016 264.531);
}
[data-accent="neutral"] { 
  --accent-50: 250 250 250; --accent-100: 245 245 245; --accent-500: 115 115 115; --accent-600: 82 82 82; --accent-700: 64 64 64;
  --primary: oklch(0.556 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.556 0 0);
}
[data-accent="stone"] { 
  --accent-50: 250 250 249; --accent-100: 245 245 244; --accent-500: 120 113 108; --accent-600: 87 83 78; --accent-700: 68 64 60;
  --primary: oklch(0.556 0.01 56.366);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.556 0.01 56.366);
}
[data-accent="red"] { 
  --accent-50: 254 242 242; --accent-100: 254 226 226; --accent-500: 239 68 68; --accent-600: 220 38 38; --accent-700: 185 28 28;
  --primary: oklch(0.637 0.237 25.331);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.637 0.237 25.331);
}
[data-accent="orange"] { 
  --accent-50: 255 247 237; --accent-100: 255 237 213; --accent-500: 249 115 22; --accent-600: 234 88 12; --accent-700: 194 65 12;
  --primary: oklch(0.696 0.199 41.696);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.696 0.199 41.696);
}
[data-accent="amber"] { 
  --accent-50: 255 251 235; --accent-100: 254 243 199; --accent-500: 245 158 11; --accent-600: 217 119 6; --accent-700: 180 83 9;
  --primary: oklch(0.748 0.153 70.559);
  --primary-foreground: oklch(0.145 0 0);
  --ring: oklch(0.748 0.153 70.559);
}
[data-accent="yellow"] { 
  --accent-50: 254 252 232; --accent-100: 254 249 195; --accent-500: 234 179 8; --accent-600: 202 138 4; --accent-700: 161 98 7;
  --primary: oklch(0.831 0.165 96.474);
  --primary-foreground: oklch(0.145 0 0);
  --ring: oklch(0.831 0.165 96.474);
}
[data-accent="lime"] { 
  --accent-50: 247 254 231; --accent-100: 236 252 203; --accent-500: 132 204 22; --accent-600: 101 163 13; --accent-700: 77 124 15;
  --primary: oklch(0.746 0.194 130.34);
  --primary-foreground: oklch(0.145 0 0);
  --ring: oklch(0.746 0.194 130.34);
}
[data-accent="green"] { 
  --accent-50: 240 253 244; --accent-100: 220 252 231; --accent-500: 34 197 94; --accent-600: 22 163 74; --accent-700: 21 128 61;
  --primary: oklch(0.705 0.172 149.579);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.705 0.172 149.579);
}
[data-accent="emerald"] { 
  --accent-50: 236 253 245; --accent-100: 209 250 229; --accent-500: 16 185 129; --accent-600: 5 150 105; --accent-700: 4 120 87;
  --primary: oklch(0.672 0.148 165.621);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.672 0.148 165.621);
}
[data-accent="teal"] { 
  --accent-50: 240 253 250; --accent-100: 204 251 241; --accent-500: 20 184 166; --accent-600: 13 148 136; --accent-700: 15 118 110;
  --primary: oklch(0.677 0.112 180.774);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.677 0.112 180.774);
}
[data-accent="cyan"] { 
  --accent-50: 236 254 255; --accent-100: 207 250 254; --accent-500: 6 182 212; --accent-600: 8 145 178; --accent-700: 14 116 144;
  --primary: oklch(0.683 0.117 197.137);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.683 0.117 197.137);
}
[data-accent="sky"] { 
  --accent-50: 240 249 255; --accent-100: 224 242 254; --accent-500: 14 165 233; --accent-600: 2 132 199; --accent-700: 3 105 161;
  --primary: oklch(0.699 0.129 232.661);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.699 0.129 232.661);
}
[data-accent="blue"] { 
  --accent-50: 239 246 255; --accent-100: 219 234 254; --accent-500: 59 130 246; --accent-600: 37 99 235; --accent-700: 29 78 216;
  --primary: oklch(0.608 0.204 255.058);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.608 0.204 255.058);
}
[data-accent="indigo"] { 
  --accent-50: 238 242 255; --accent-100: 224 231 255; --accent-500: 99 102 241; --accent-600: 79 70 229; --accent-700: 67 56 202;
  --primary: oklch(0.564 0.233 276.751);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.564 0.233 276.751);
}
[data-accent="violet"] { 
  --accent-50: 245 243 255; --accent-100: 237 233 254; --accent-500: 139 92 246; --accent-600: 124 58 237; --accent-700: 109 40 217;
  --primary: oklch(0.606 0.262 293.665);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.606 0.262 293.665);
}
[data-accent="purple"] { 
  --accent-50: 250 245 255; --accent-100: 243 232 255; --accent-500: 168 85 247; --accent-600: 147 51 234; --accent-700: 126 34 206;
  --primary: oklch(0.641 0.254 302.321);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.641 0.254 302.321);
}
[data-accent="fuchsia"] { 
  --accent-50: 253 244 255; --accent-100: 250 232 255; --accent-500: 217 70 239; --accent-600: 192 38 211; --accent-700: 162 28 175;
  --primary: oklch(0.648 0.247 320.815);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.648 0.247 320.815);
}
[data-accent="pink"] { 
  --accent-50: 253 242 248; --accent-100: 252 231 243; --accent-500: 236 72 153; --accent-600: 219 39 119; --accent-700: 190 24 93;
  --primary: oklch(0.656 0.214 349.761);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.656 0.214 349.761);
}
[data-accent="rose"] { 
  --accent-50: 255 241 242; --accent-100: 255 228 230; --accent-500: 244 63 94; --accent-600: 225 29 72; --accent-700: 190 18 60;
  --primary: oklch(0.645 0.226 12.422);
  --primary-foreground: oklch(0.985 0 0);
  --ring: oklch(0.645 0.226 12.422);
}

/* Utility classes for accent colors */
.accent-bg { background-color: rgb(var(--accent-500)); }
.accent-bg-light { background-color: rgb(var(--accent-50)); }
.accent-bg-lighter { background-color: rgb(var(--accent-100)); }
.accent-text { color: rgb(var(--accent-600)); }
.accent-text-dark { color: rgb(var(--accent-700)); }
.accent-border { border-color: rgb(var(--accent-500)); }
.hover\:accent-bg:hover { background-color: rgb(var(--accent-600)); }
.hover\:accent-bg-light:hover { background-color: rgb(var(--accent-100)); }

/* Enhanced background and effect utilities */
.bg-grid {
  background-image: 
    linear-gradient(to right, color-mix(in oklab, var(--border) 30%, transparent) 1px, transparent 1px),
    linear-gradient(to bottom, color-mix(in oklab, var(--border) 30%, transparent) 1px, transparent 1px);
  background-size: 24px 24px;
}

.bg-grid-sm {
  background-image: 
    linear-gradient(to right, color-mix(in oklab, var(--border) 40%, transparent) 1px, transparent 1px),
    linear-gradient(to bottom, color-mix(in oklab, var(--border) 40%, transparent) 1px, transparent 1px);
  background-size: 16px 16px;
}

.radial-spot {
  background: radial-gradient(1000px circle at var(--spot-x, 50%) var(--spot-y, 20%), 
    color-mix(in oklab, var(--primary) 8%, transparent) 0, 
    transparent 70%);
}

.glow-ring {
  box-shadow: 
    0 0 0 1px color-mix(in oklab, var(--ring) 20%, transparent),
    0 0 20px -5px color-mix(in oklab, var(--ring) 40%, transparent);
}

.glass {
  background-color: color-mix(in oklab, var(--card) 80%, transparent);
  backdrop-filter: blur(16px) saturate(180%);
  -webkit-backdrop-filter: blur(16px) saturate(180%);
}

.glass-strong {
  background-color: color-mix(in oklab, var(--card) 95%, transparent);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
}

.border-gradient {
  border: 1px solid transparent;
  background-image: 
    linear-gradient(var(--card), var(--card)),
    linear-gradient(135deg, 
      color-mix(in oklab, var(--primary) 30%, transparent), 
      color-mix(in oklab, var(--ring) 20%, transparent));
  background-origin: border-box;
  background-clip: padding-box, border-box;
}

.text-gradient {
  background: linear-gradient(135deg, var(--foreground), var(--primary));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.shine {
  position: relative;
  overflow: hidden;
}

.shine::after {
  content: "";
  position: absolute;
  inset: -200% -50%;
  background: linear-gradient(90deg, 
    transparent, 
    color-mix(in oklab, var(--ring) 12%, transparent), 
    transparent);
  transform: translateX(-60%);
  animation: shine-move 5s ease-in-out infinite;
}

@keyframes shine-move {
  0%, 100% { transform: translateX(-60%); }
  50% { transform: translateX(60%); }
}

/* Card shadows and depth */
.card-elevated {
  box-shadow: 
    0 1px 2px 0 rgba(0, 0, 0, 0.05),
    0 0 0 1px color-mix(in oklab, var(--border) 50%, transparent);
}

.card-elevated-hover {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-elevated-hover:hover {
  box-shadow: 
    0 4px 12px -2px rgba(0, 0, 0, 0.08),
    0 0 0 1px color-mix(in oklab, var(--border) 70%, transparent);
  transform: translateY(-2px);
}

/* Smooth transitions */
.transition-smooth {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Badge styles */
.badge-glow {
  box-shadow: 0 0 12px -2px currentColor;
}

/* Notion-style Editor */
.notion-editor .ProseMirror {
  outline: none;
}

/* Block Controls - No more pseudo-elements */
.ProseMirror > * {
  position: relative;
}

.block-controls {
  display: flex;
  align-items: center;
  gap: 4px;
  transition: opacity 0.15s ease;
}

.block-controls button {
  transition: all 0.15s ease;
}

.notion-editor .ProseMirror p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  float: left;
  color: var(--muted-foreground);
  pointer-events: none;
  height: 0;
}

.notion-editor .ProseMirror h1 {
  font-size: 2rem;
  font-weight: 700;
  line-height: 1.2;
  margin-top: 1.5rem;
  margin-bottom: 0.5rem;
}

.notion-editor .ProseMirror h2 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.3;
  margin-top: 1.25rem;
  margin-bottom: 0.5rem;
}

.notion-editor .ProseMirror h3 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.4;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

.notion-editor .ProseMirror p {
  margin-top: 0.25rem;
  margin-bottom: 0.25rem;
  line-height: 1.6;
}

.notion-editor .ProseMirror ul,
.notion-editor .ProseMirror ol {
  padding-left: 1.5rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

.notion-editor .ProseMirror li {
  margin-top: 0.125rem;
  margin-bottom: 0.125rem;
}

.notion-editor .ProseMirror blockquote {
  border-left: 3px solid var(--primary);
  padding: 0.5rem 1rem 0.5rem 1.25rem;
  margin: 1rem 0;
  background: transparent;
  border-radius: 0;
  font-style: normal;
  color: var(--foreground);
  position: relative;
}

.notion-editor .ProseMirror blockquote::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--primary);
  border-radius: 2px;
}

.notion-editor .ProseMirror blockquote p {
  margin: 0.25rem 0;
}

.notion-editor .ProseMirror code {
  background: color-mix(in oklch, var(--primary) 10%, transparent);
  color: var(--primary);
  padding: 0.2rem 0.4rem;
  border-radius: 0.375rem;
  font-size: 0.9em;
  font-family: var(--font-mono);
  border: none;
  font-weight: 500;
}

.notion-editor .ProseMirror pre {
  background: var(--muted);
  padding: 1rem;
  border-radius: 0.5rem;
  margin: 1rem 0;
  overflow-x: auto;
  border: 1px solid var(--border);
}

.notion-editor .ProseMirror pre code {
  background: none;
  color: var(--foreground);
  padding: 0;
  font-size: 0.875rem;
  border: none;
  font-weight: 400;
}

/* Drop cursor styling */
.ProseMirror-dropcursor {
  position: absolute;
  pointer-events: none;
  border-left: 3px solid var(--primary) !important;
  border-radius: 1px;
  margin-left: -1.5px;
  height: 1.2em;
  animation: blink 1s ease-in-out infinite;
}

@keyframes blink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.notion-editor .ProseMirror hr {
  border: none;
  border-top: 2px solid var(--border);
  margin: 2rem 0;
}

/* Task List Styles */
.notion-editor .ProseMirror ul[data-type="taskList"] {
  list-style: none;
  padding-left: 0;
}

.notion-editor .ProseMirror ul[data-type="taskList"] li {
  display: flex;
  align-items: flex-start;
  gap: 0.5rem;
}

.notion-editor .ProseMirror ul[data-type="taskList"] li > label {
  flex-shrink: 0;
  margin-top: 0.125rem;
}

.notion-editor .ProseMirror ul[data-type="taskList"] li > label input[type="checkbox"] {
  width: 1.125rem;
  height: 1.125rem;
  cursor: pointer;
  border-radius: 0.25rem;
  border: 2px solid var(--border);
  appearance: none;
  background-color: var(--background);
  transition: all 0.2s;
}

.notion-editor .ProseMirror ul[data-type="taskList"] li > label input[type="checkbox"]:checked {
  background-color: var(--primary);
  border-color: var(--primary);
  background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
}

.notion-editor .ProseMirror ul[data-type="taskList"] li > div {
  flex: 1;
}

.notion-editor .ProseMirror ul[data-type="taskList"] li[data-checked="true"] > div {
  text-decoration: line-through;
  opacity: 0.6;
}

/* Table Styles */
.notion-editor .ProseMirror table {
  border-collapse: collapse;
  table-layout: fixed;
  width: 100%;
  margin: 1.5rem 0;
  overflow: hidden;
  border-radius: 0.5rem;
  border: 1px solid var(--border);
}

.notion-editor .ProseMirror table td,
.notion-editor .ProseMirror table th {
  min-width: 1em;
  border: 1px solid var(--border);
  padding: 0.5rem 0.75rem;
  vertical-align: top;
  box-sizing: border-box;
  position: relative;
}

.notion-editor .ProseMirror table th {
  font-weight: 600;
  text-align: left;
  background-color: color-mix(in oklch, var(--muted) 50%, transparent);
}

  .notion-editor .ProseMirror table .selectedCell {
    background-color: color-mix(in oklch, var(--primary) 10%, transparent);
  }
  
  /* Table node selection */
  .ProseMirror .selectedNode {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
  }
  
  .notion-editor .ProseMirror table.selectedNode {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
  }

.notion-editor .ProseMirror table .column-resize-handle {
  position: absolute;
  right: -2px;
  top: 0;
  bottom: 0;
  width: 4px;
  background-color: var(--primary);
  pointer-events: none;
}

/* Ensure minimum height and always show space at bottom */
.notion-editor .ProseMirror {
  min-height: calc(100vh - 16rem);
  padding-bottom: 20vh;
}

.notion-editor .ProseMirror > *:last-child {
  margin-bottom: 0;
}

/* Gantt Chart Styles */
.gantt-container {
  font-family: var(--font-sans);
  background-color: var(--card) !important;
  height: 100%;
  min-height: 600px;
}

.gantt-container * {
  background-color: inherit;
}

/* Force Gantt chart to fill full height */
.gantt-container > div {
  height: 100% !important;
  min-height: 600px !important;
}

.gantt-container .gantt-vertical-container {
  height: 100% !important;
  min-height: 600px !important;
}

.gantt-container .gantt-table {
  background-color: var(--card);
  border-right: 0.5px solid color-mix(in oklch, var(--border) 50%, transparent);
}

.gantt-container .gantt-table-header {
  background-color: var(--muted);
  border-bottom: 0.5px solid color-mix(in oklch, var(--border) 60%, transparent);
  font-weight: 600;
  color: var(--foreground);
}

/* Remove white borders from calendar header - softer lines */
._35nLX {
  stroke: color-mix(in oklch, var(--border) 40%, transparent) !important;
  stroke-width: 0.5;
}

._2dZTyk, ._3rUKi, ._RuwuK {
  fill: var(--card);
  stroke: var(--border) !important;
  stroke-width: 0.5;
}

.gantt-container .gantt-table-row {
  border-bottom: 0.5px solid color-mix(in oklch, var(--border) 30%, transparent);
  background-color: var(--card);
}

.gantt-container .gantt-table-row:hover {
  background-color: color-mix(in oklch, var(--accent) 50%, transparent);
}

.gantt-container .gantt-vertical-container {
  background-color: var(--card);
}

.gantt-container ._3rUKi {
  background-color: var(--card);
  border-bottom: 1px solid var(--border);
}

.gantt-container ._2dZTyk {
  background-color: var(--muted);
  border-bottom: 0.5px solid var(--border);
  color: var(--foreground);
  font-weight: 600;
}


.gantt-container ._2q1Kt {
  fill: var(--foreground);
  font-size: 12px;
  font-weight: 500;
}

.gantt-container ._9w8d5 {
  fill: var(--muted-foreground);
  font-size: 11px;
}

/* Calendar grid background */
.gantt-container svg {
  background-color: var(--card) !important;
}

/* Force all backgrounds to use card color */
.gantt-container > div {
  background-color: var(--card) !important;
}

.gantt-container .gantt-vertical-container > div {
  background-color: var(--card) !important;
}

/* Calendar grid cells - force all white backgrounds to card color */
.gantt-container rect[fill="white"],
.gantt-container rect[fill="#fff"],
.gantt-container rect[fill="#ffffff"],
.gantt-container rect[fill="rgb(255, 255, 255)"],
.gantt-container rect[fill="rgba(255, 255, 255, 1)"] {
  fill: var(--card) !important;
}

/* Force calendar background */
.gantt-container ._1rMKS,
.gantt-container .calendar-row rect {
  fill: var(--card) !important;
}

/* Override any white backgrounds in SVG */
.gantt-container svg rect:not([fill*="rgb"]):not([fill*="#"]):not([class*="bar"]) {
  fill: var(--card) !important;
}

/* Task bar styles */
.gantt-container ._3uo7R {
  rx: 6;
  ry: 6;
}

/* Today marker */
.gantt-container ._2Pjvg {
  fill: var(--primary);
  opacity: 0.15;
}

/* Grid lines - softer appearance */
.gantt-container ._1b4dS {
  stroke: color-mix(in oklch, var(--border) 30%, transparent);
  stroke-width: 0.5;
}

/* Row backgrounds */
.gantt-container .gantt-task-row {
  background-color: var(--card);
}

/* Calendar header cells */
.gantt-container .calendar-header {
  background-color: var(--muted);
}

/* Scrollbar styling */
.gantt-container ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

.gantt-container ::-webkit-scrollbar-track {
  background: var(--muted);
  border-radius: 6px;
}

.gantt-container ::-webkit-scrollbar-thumb {
  background: var(--border);
  border-radius: 6px;
}

.gantt-container ::-webkit-scrollbar-thumb:hover {
  background: var(--muted-foreground);
}

/* Task bar corner radius */
.gantt-container rect[rx="3"] {
  rx: 6;
  ry: 6;
}

/* Header text */
.gantt-container text {
  fill: var(--foreground);
}

/* Weekend columns */
.gantt-container .weekend {
  fill: var(--muted);
  opacity: 0.3;
}
